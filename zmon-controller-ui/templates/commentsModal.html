<div class="modal-header">
    <button type="button" class="close" ng-click="close()" aria-hidden="true">&times;</button>
    <h4 class="modal-title left">Comments</h4>
    <button type="button" class="more-comments btn btn-default btn-xs" ng-hide="allLoaded" ng-click="loadMoreComments()">More comments</button>
</div>
<div class="modal-body">
    <div class="comments-container">
        <div class="panel panel-default" ng-repeat="comment in comments | orderBy: 'last_modified'">
            <div class="panel-body">
                <div class="comment-text">{{comment.comment}}</div>
                <button type="button" ng-if="comment.deletable" class="close" ng-click="removeComment(comment.id)" aria-hidden="true">&times;</button>
                <div class="comment-label" ng-class="{author: comment.created_by == userInfo.user}">{{comment.created_by}} {{comment.last_modified/1000 | epochToDate | UTC }} (UTC)</div>
                <div ng-if="comment.entity_id" class="comment-label-entity">{{comment.entity_id}}</div>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer no-margin">
    <form name="form" novalid>
        <div class="col-md-10">
            <textarea class="form-control" ng-model="comment.comment" placeholder="Comment text..." required></textarea>
        </div>
        <div class="col-md-2">
            <button type="button" class="btn btn-primary" ng-disabled="form.$invalid" ng-click="addComment()">Add Comment</button>
        </div>
    </form>
</div>
